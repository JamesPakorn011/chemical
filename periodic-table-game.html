
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกมตารางธาตุมหาสนุก</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Prompt', sans-serif;
            background: linear-gradient(135deg, #8BC6EC 0%, #9599E2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .game-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .element-icon {
            position: absolute;
            opacity: 0.1;
            z-index: 0;
            transform: rotate(-15deg);
            right: 10px;
            bottom: 10px;
            font-size: 5rem;
            font-weight: bold;
        }
        
        .timer-progress {
            transition: width 1s linear;
        }
        
        .atom {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            animation: float 8s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }
        
        .electron-orbit {
            position: absolute;
            top: -15px;
            left: -15px;
            width: 90px;
            height: 90px;
            border: 1px dashed rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: spin 10s linear infinite;
        }
        
        .electron {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            top: -5px;
            left: 40px;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        .footer {
            margin-top: auto;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8 flex-grow">
        <!-- Header with Timer -->
        <div class="bg-white rounded-xl shadow-lg p-4 mb-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="flex items-center mb-4 md:mb-0">
                    <div class="bg-indigo-600 text-white p-3 rounded-lg mr-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
                        </svg>
                    </div>
                    <h1 class="text-3xl font-bold text-indigo-800">เกมตารางธาตุมหาสนุก</h1>
                </div>
                
                <div class="bg-gray-100 p-3 rounded-lg flex items-center space-x-4 w-full md:w-auto">
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-indigo-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <div>
                        <p class="text-sm text-gray-500">เวลาที่เหลือ</p>
                        <p id="timer" class="text-xl font-bold text-indigo-800">5:00</p>
                    </div>
                    <div class="w-40 bg-gray-200 rounded-full h-3">
                        <div id="timerProgress" class="bg-indigo-600 h-3 rounded-full timer-progress" style="width: 100%"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="relative">
            <!-- Decorative Elements -->
            <div class="atom" style="top: 100px; left: 5%;">
                <div class="electron-orbit">
                    <div class="electron"></div>
                </div>
            </div>
            <div class="atom" style="top: 300px; right: 10%;">
                <div class="electron-orbit" style="animation-duration: 8s;">
                    <div class="electron"></div>
                </div>
            </div>
            
            <div class="text-center mb-8">
                <h2 class="text-2xl md:text-3xl font-bold text-white mb-2">เลือกเกมที่ต้องการเล่น</h2>
                <p class="text-white text-opacity-90">แต่ละเกมใช้เวลาเล่น 5 นาที เพื่อทดสอบความรู้เกี่ยวกับตารางธาตุ</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                <!-- Game 1 Card -->
                <div id="game1Card" class="game-card bg-gradient-to-br from-indigo-500 to-blue-600 rounded-xl shadow-lg overflow-hidden relative">
                    <div class="p-6 relative z-10">
                        <div class="bg-white bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">เกมจับคู่ธาตุ</h3>
                        <p class="text-white text-opacity-90 mb-6">จับคู่สัญลักษณ์ธาตุกับชื่อที่ถูกต้อง ทดสอบความจำและความรู้เกี่ยวกับธาตุต่างๆ</p>
                        <button id="startGame1" class="bg-white text-indigo-600 font-medium py-2 px-4 rounded-lg hover:bg-opacity-90 transition">เริ่มเล่น</button>
                        <div class="element-icon">H</div>
                    </div>
                </div>
                
                <!-- Game 2 Card -->
                <div id="game2Card" class="game-card bg-gradient-to-br from-pink-500 to-purple-600 rounded-xl shadow-lg overflow-hidden relative">
                    <div class="p-6 relative z-10">
                        <div class="bg-white bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">เกมทายธาตุ</h3>
                        <p class="text-white text-opacity-90 mb-6">ทายธาตุจากคำใบ้ที่ให้มา ยิ่งตอบถูกเร็ว คะแนนยิ่งสูง!</p>
                        <button id="startGame2" class="bg-white text-pink-600 font-medium py-2 px-4 rounded-lg hover:bg-opacity-90 transition">เริ่มเล่น</button>
                        <div class="element-icon">O</div>
                    </div>
                </div>
                
                <!-- Game 3 Card -->
                <div id="game3Card" class="game-card bg-gradient-to-br from-yellow-400 to-orange-500 rounded-xl shadow-lg overflow-hidden relative">
                    <div class="p-6 relative z-10">
                        <div class="bg-white bg-opacity-20 w-16 h-16 rounded-full flex items-center justify-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">เกมจัดหมวดหมู่</h3>
                        <p class="text-white text-opacity-90 mb-6">จัดธาตุต่างๆ ให้เข้ากลุ่มที่ถูกต้อง ตามหมวดหมู่ในตารางธาตุ</p>
                        <button id="startGame3" class="bg-white text-yellow-600 font-medium py-2 px-4 rounded-lg hover:bg-opacity-90 transition">เริ่มเล่น</button>
                        <div class="element-icon">Fe</div>
                    </div>
                </div>
            </div>
            
            <!-- Game Stats -->
            <div class="mt-12 bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4">สถิติการเล่นเกม</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-indigo-50 p-4 rounded-lg">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-indigo-800 font-medium">เกมจับคู่ธาตุ</span>
                            <span id="game1Score" class="bg-indigo-100 text-indigo-800 font-bold py-1 px-3 rounded-lg">0</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="game1Progress" class="bg-indigo-600 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="bg-pink-50 p-4 rounded-lg">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-pink-800 font-medium">เกมทายธาตุ</span>
                            <span id="game2Score" class="bg-pink-100 text-pink-800 font-bold py-1 px-3 rounded-lg">0</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="game2Progress" class="bg-pink-600 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="bg-yellow-50 p-4 rounded-lg">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-yellow-800 font-medium">เกมจัดหมวดหมู่</span>
                            <span id="game3Score" class="bg-yellow-100 text-yellow-800 font-bold py-1 px-3 rounded-lg">0</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="game3Progress" class="bg-yellow-500 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <div class="footer bg-gray-800 text-white py-4 px-6 mt-12">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <p>พัฒนาโดย ฟ้าใส เด็กเรียน</p>
            </div>
            <div class="flex space-x-4">
                <a href="#" class="hover:text-indigo-300 transition">คู่มือการเล่น</a>
                <a href="#" class="hover:text-indigo-300 transition">เกี่ยวกับเรา</a>
                <a href="#" class="hover:text-indigo-300 transition">ติดต่อ</a>
            </div>
        </div>
    </div>
    
    <!-- Game Content (Hidden initially) -->
    <div id="gameContent" class="fixed inset-0 bg-white z-50 overflow-auto hidden">
        <div class="container mx-auto px-4 py-8">
            <!-- Game Header -->
            <div class="flex justify-between items-center mb-6">
                <div class="flex items-center">
                    <button id="backToMenu" class="bg-gray-200 hover:bg-gray-300 rounded-full p-2 mr-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                        </svg>
                    </button>
                    <h2 id="gameTitle" class="text-2xl font-bold text-indigo-800">เกมจับคู่ธาตุ</h2>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="bg-gray-100 p-2 rounded-lg flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        <span id="gameTimer" class="font-medium">5:00</span>
                    </div>
                    <div class="bg-gray-100 p-2 rounded-lg flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-indigo-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                        </svg>
                        <span id="gameScore" class="font-medium">0 คะแนน</span>
                    </div>
                </div>
            </div>
            
            <!-- Game Progress Bar -->
            <div class="w-full bg-gray-200 rounded-full h-2.5 mb-8">
                <div id="gameProgress" class="bg-indigo-600 h-2.5 rounded-full timer-progress" style="width: 100%"></div>
            </div>
            
            <!-- Game Content Placeholder -->
            <div id="game1Content" class="hidden">
                <div class="bg-indigo-50 p-4 rounded-lg mb-6">
                    <p class="text-gray-700">จับคู่สัญลักษณ์ธาตุทางซ้ายกับชื่อธาตุทางขวาให้ถูกต้อง</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div id="symbolsContainer" class="space-y-4"></div>
                    <div id="namesContainer" class="space-y-4"></div>
                </div>
            </div>
            
            <div id="game2Content" class="hidden">
                <div class="bg-pink-50 p-6 rounded-lg mb-8">
                    <h3 id="elementClue" class="text-xl font-bold text-gray-800 mb-4">คำใบ้: ธาตุนี้เป็นก๊าซเฉื่อย</h3>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="answerOptions">
                        <!-- ตัวเลือกจะถูกเพิ่มด้วย JavaScript -->
                    </div>
                </div>
                
                <div id="resultMessage" class="hidden text-center p-4 rounded-lg mb-6">
                    <!-- ข้อความผลลัพธ์จะถูกเพิ่มด้วย JavaScript -->
                </div>
            </div>
            
            <div id="game3Content" class="hidden">
                <div class="bg-yellow-50 p-4 rounded-lg mb-6">
                    <p class="text-gray-700">ลากธาตุไปวางในหมวดหมู่ที่ถูกต้อง</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-red-100 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-red-800 mb-2 text-center">โลหะ</h3>
                        <div id="metalGroup" class="min-h-[150px] border-2 border-dashed border-red-300 rounded-lg p-2 flex flex-wrap gap-2" ondrop="drop(event, 'metal')" ondragover="allowDrop(event)"></div>
                    </div>
                    <div class="bg-blue-100 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2 text-center">อโลหะ</h3>
                        <div id="nonmetalGroup" class="min-h-[150px] border-2 border-dashed border-blue-300 rounded-lg p-2 flex flex-wrap gap-2" ondrop="drop(event, 'nonmetal')" ondragover="allowDrop(event)"></div>
                    </div>
                    <div class="bg-purple-100 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2 text-center">กึ่งโลหะ</h3>
                        <div id="metalloidGroup" class="min-h-[150px] border-2 border-dashed border-purple-300 rounded-lg p-2 flex flex-wrap gap-2" ondrop="drop(event, 'metalloid')" ondragover="allowDrop(event)"></div>
                    </div>
                </div>
                
                <div id="elementsToSort" class="flex flex-wrap gap-3 mb-6 justify-center">
                    <!-- ธาตุจะถูกเพิ่มด้วย JavaScript -->
                </div>
                
                <div class="flex justify-center">
                    <button id="checkCategoriesBtn" class="bg-yellow-500 hover:bg-yellow-600 text-white font-medium py-2 px-6 rounded-lg transition">ตรวจคำตอบ</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Result Modal -->
    <div id="resultModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <div class="text-center">
                <div id="resultIcon" class="mx-auto mb-4 text-green-500">
                    <svg class="w-16 h-16 mx-auto" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                </div>
                <h3 id="resultTitle" class="text-2xl font-bold text-gray-800 mb-2">เวลาหมดแล้ว!</h3>
                <p id="resultText" class="text-gray-600 mb-6">คุณได้ <span id="finalScore">0</span> คะแนน</p>
                <div class="flex justify-center space-x-4">
                    <button id="playAgainBtn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-6 rounded-lg transition">เล่นอีกครั้ง</button>
                    <button id="backToMenuBtn" class="bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-6 rounded-lg transition">กลับสู่เมนู</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ข้อมูลธาตุ
        const elements = [
            { symbol: "H", name: "ไฮโดรเจน", group: "nonmetal", clues: ["เป็นธาตุที่เบาที่สุด", "มีเลขอะตอม 1", "พบมากในน้ำ"] },
            { symbol: "He", name: "ฮีเลียม", group: "nonmetal", clues: ["เป็นก๊าซเฉื่อย", "ใช้เติมในบอลลูน", "มีเลขอะตอม 2"] },
            { symbol: "Li", name: "ลิเทียม", group: "metal", clues: ["เป็นโลหะอัลคาไล", "ใช้ในแบตเตอรี่", "มีเลขอะตอม 3"] },
            { symbol: "Be", name: "เบริลเลียม", group: "metal", clues: ["เป็นโลหะอัลคาไลน์เอิร์ท", "มีเลขอะตอม 4", "มีความแข็งสูง"] },
            { symbol: "B", name: "โบรอน", group: "metalloid", clues: ["เป็นธาตุกึ่งโลหะ", "มีเลขอะตอม 5", "ใช้ในการผลิตแก้วโบโรซิลิเกต"] },
            { symbol: "C", name: "คาร์บอน", group: "nonmetal", clues: ["เป็นองค์ประกอบหลักของสิ่งมีชีวิต", "มีเลขอะตอม 6", "พบในเพชรและแกรไฟต์"] },
            { symbol: "N", name: "ไนโตรเจน", group: "nonmetal", clues: ["เป็นองค์ประกอบหลักของอากาศ", "มีเลขอะตอม 7", "ใช้ในการผลิตปุ๋ย"] },
            { symbol: "O", name: "ออกซิเจน", group: "nonmetal", clues: ["จำเป็นสำหรับการหายใจ", "มีเลขอะตอม 8", "เป็นองค์ประกอบของน้ำ"] },
            { symbol: "F", name: "ฟลูออรีน", group: "nonmetal", clues: ["เป็นธาตุฮาโลเจน", "มีเลขอะตอม 9", "มีความว่องไวในการทำปฏิกิริยาสูงมาก"] },
            { symbol: "Ne", name: "นีออน", group: "nonmetal", clues: ["เป็นก๊าซเฉื่อย", "มีเลขอะตอม 10", "ใช้ในป้ายไฟนีออน"] },
            { symbol: "Na", name: "โซเดียม", group: "metal", clues: ["เป็นโลหะอัลคาไล", "มีเลขอะตอม 11", "ทำปฏิกิริยารุนแรงกับน้ำ"] },
            { symbol: "Mg", name: "แมกนีเซียม", group: "metal", clues: ["เป็นโลหะอัลคาไลน์เอิร์ท", "มีเลขอะตอม 12", "เผาไหม้ให้แสงสว่างจ้า"] },
            { symbol: "Al", name: "อะลูมิเนียม", group: "metal", clues: ["เป็นโลหะที่เบา", "มีเลขอะตอม 13", "ใช้ทำกระป๋องเครื่องดื่ม"] },
            { symbol: "Si", name: "ซิลิคอน", group: "metalloid", clues: ["เป็นธาตุกึ่งโลหะ", "มีเลขอะตอม 14", "ใช้ในอุปกรณ์อิเล็กทรอนิกส์"] },
            { symbol: "P", name: "ฟอสฟอรัส", group: "nonmetal", clues: ["เป็นธาตุที่เรืองแสงได้", "มีเลขอะตอม 15", "สำคัญในโครงสร้าง DNA"] },
            { symbol: "S", name: "ซัลเฟอร์", group: "nonmetal", clues: ["มีสีเหลือง", "มีเลขอะตอม 16", "มีกลิ่นเหมือนไข่เน่า"] },
            { symbol: "Cl", name: "คลอรีน", group: "nonmetal", clues: ["เป็นธาตุฮาโลเจน", "มีเลขอะตอม 17", "ใช้ในการฆ่าเชื้อในสระว่ายน้ำ"] },
            { symbol: "Ar", name: "อาร์กอน", group: "nonmetal", clues: ["เป็นก๊าซเฉื่อย", "มีเลขอะตอม 18", "พบมากในบรรยากาศโลก"] },
            { symbol: "K", name: "โพแทสเซียม", group: "metal", clues: ["เป็นโลหะอัลคาไล", "มีเลขอะตอม 19", "สำคัญต่อการทำงานของหัวใจ"] },
            { symbol: "Ca", name: "แคลเซียม", group: "metal", clues: ["เป็นโลหะอัลคาไลน์เอิร์ท", "มีเลขอะตอม 20", "พบมากในกระดูกและฟัน"] }
        ];

        // ตัวแปรสำหรับเก็บคะแนน
        let game1Score = 0;
        let game2Score = 0;
        let game3Score = 0;
        
        // ตัวแปรสำหรับเกมจับคู่
        let selectedSymbol = null;
        let selectedName = null;
        let matchedPairs = 0;
        let currentMatchingElements = [];
        
        // ตัวแปรสำหรับเกมทายธาตุ
        let currentGuessElement = null;
        
        // ตัวแปรสำหรับเกมจัดหมวดหมู่
        let currentSortingElements = [];
        
        // ตัวแปรสำหรับตัวจับเวลา
        let gameTimer;
        let gameTimeLeft = 300; // 5 นาที = 300 วินาที
        let currentGame = 0;
        
        // เริ่มต้นการทำงาน
        document.addEventListener('DOMContentLoaded', function() {
            // เพิ่ม Event Listeners สำหรับปุ่มเลือกเกม
            document.getElementById('startGame1').addEventListener('click', () => startGame(1));
            document.getElementById('startGame2').addEventListener('click', () => startGame(2));
            document.getElementById('startGame3').addEventListener('click', () => startGame(3));
            
            // Event Listeners สำหรับปุ่มกลับเมนู
            document.getElementById('backToMenu').addEventListener('click', backToMenu);
            document.getElementById('backToMenuBtn').addEventListener('click', backToMenu);
            document.getElementById('playAgainBtn').addEventListener('click', playAgain);
            
            // Event Listeners สำหรับปุ่มในเกม
            document.getElementById('checkCategoriesBtn').addEventListener('click', checkCategories);
        });
        
        // ฟังก์ชันเริ่มเกม
        function startGame(gameNumber) {
            currentGame = gameNumber;
            document.getElementById('gameContent').classList.remove('hidden');
            
            // ซ่อนเนื้อหาเกมทั้งหมด
            document.getElementById('game1Content').classList.add('hidden');
            document.getElementById('game2Content').classList.add('hidden');
            document.getElementById('game3Content').classList.add('hidden');
            
            // แสดงเนื้อหาเกมที่เลือก
            document.getElementById(`game${gameNumber}Content`).classList.remove('hidden');
            
            // ตั้งค่าชื่อเกม
            let gameTitle = '';
            let gameColor = '';
            
            switch(gameNumber) {
                case 1:
                    gameTitle = 'เกมจับคู่ธาตุ';
                    gameColor = 'indigo';
                    setupMatchingGame();
                    break;
                case 2:
                    gameTitle = 'เกมทายธาตุ';
                    gameColor = 'pink';
                    setupGuessGame();
                    break;
                case 3:
                    gameTitle = 'เกมจัดหมวดหมู่';
                    gameColor = 'yellow';
                    setupCategoryGame();
                    break;
            }
            
            document.getElementById('gameTitle').textContent = gameTitle;
            document.getElementById('gameProgress').className = `bg-${gameColor}-600 h-2.5 rounded-full timer-progress`;
            
            // เริ่มจับเวลา
            startTimer();
        }
        
        // ฟังก์ชันกลับสู่เมนู
        function backToMenu() {
            document.getElementById('gameContent').classList.add('hidden');
            document.getElementById('resultModal').classList.add('hidden');
            clearInterval(gameTimer);
            
            // อัพเดทความคืบหน้าในเมนูหลัก
            updateGameProgress();
        }
        
        // ฟังก์ชันเล่นอีกครั้ง
        function playAgain() {
            document.getElementById('resultModal').classList.add('hidden');
            startGame(currentGame);
        }
        
        // ฟังก์ชันเริ่มจับเวลา
        function startTimer() {
            clearInterval(gameTimer);
            gameTimeLeft = 300; // 5 นาที
            updateTimerDisplay();
            
            gameTimer = setInterval(() => {
                gameTimeLeft--;
                updateTimerDisplay();
                
                if (gameTimeLeft <= 0) {
                    clearInterval(gameTimer);
                    showGameResult();
                }
            }, 1000);
        }
        
        // ฟังก์ชันอัพเดทการแสดงเวลา
        function updateTimerDisplay() {
            const minutes = Math.floor(gameTimeLeft / 60);
            const seconds = gameTimeLeft % 60;
            const timeString = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            
            document.getElementById('gameTimer').textContent = timeString;
            document.getElementById('timer').textContent = timeString;
            
            // อัพเดท progress bar
            const percentage = (gameTimeLeft / 300) * 100;
            document.getElementById('gameProgress').style.width = `${percentage}%`;
            document.getElementById('timerProgress').style.width = `${percentage}%`;
        }
        
        // ฟังก์ชันแสดงผลลัพธ์เมื่อจบเกม
        function showGameResult() {
            let score = 0;
            let title = 'เวลาหมดแล้ว!';
            
            switch(currentGame) {
                case 1:
                    score = game1Score;
                    break;
                case 2:
                    score = game2Score;
                    break;
                case 3:
                    score = game3Score;
                    break;
            }
            
            document.getElementById('resultTitle').textContent = title;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('resultModal').classList.remove('hidden');
            
            // อัพเดทความคืบหน้าในเมนูหลัก
            updateGameProgress();
        }
        
        // ฟังก์ชันอัพเดทความคืบหน้าในเมนูหลัก
        function updateGameProgress() {
            document.getElementById('game1Score').textContent = game1Score;
            document.getElementById('game2Score').textContent = game2Score;
            document.getElementById('game3Score').textContent = game3Score;
            
            // สมมติว่าคะแนนเต็มแต่ละเกมคือ 100
            document.getElementById('game1Progress').style.width = `${Math.min(game1Score, 100)}%`;
            document.getElementById('game2Progress').style.width = `${Math.min(game2Score, 100)}%`;
            document.getElementById('game3Progress').style.width = `${Math.min(game3Score, 100)}%`;
        }
        
        // ฟังก์ชันสำหรับเกมจับคู่
        function setupMatchingGame() {
            // ล้างค่าเดิม
            document.getElementById('symbolsContainer').innerHTML = '';
            document.getElementById('namesContainer').innerHTML = '';
            selectedSymbol = null;
            selectedName = null;
            matchedPairs = 0;
            
            // สุ่มธาตุ 5 ตัวสำหรับเกมจับคู่
            currentMatchingElements = getRandomElements(5);
            
            // สร้างปุ่มสัญลักษณ์ธาตุ
            const symbolsContainer = document.getElementById('symbolsContainer');
            const shuffledSymbols = [...currentMatchingElements].sort(() => Math.random() - 0.5);
            
            shuffledSymbols.forEach(element => {
                const symbolBtn = document.createElement('button');
                symbolBtn.className = 'element w-full bg-white border-2 border-indigo-300 rounded-lg p-4 flex items-center justify-center text-xl font-bold text-indigo-800 hover:bg-indigo-100 transition';
                symbolBtn.dataset.symbol = element.symbol;
                symbolBtn.textContent = element.symbol;
                symbolBtn.addEventListener('click', selectSymbol);
                symbolsContainer.appendChild(symbolBtn);
            });
            
            // สร้างปุ่มชื่อธาตุ
            const namesContainer = document.getElementById('namesContainer');
            const shuffledNames = [...currentMatchingElements].sort(() => Math.random() - 0.5);
            
            shuffledNames.forEach(element => {
                const nameBtn = document.createElement('button');
                nameBtn.className = 'element w-full bg-white border-2 border-indigo-300 rounded-lg p-4 flex items-center justify-center text-lg font-medium text-gray-700 hover:bg-indigo-100 transition';
                nameBtn.dataset.name = element.name;
                nameBtn.dataset.symbol = element.symbol;
                nameBtn.textContent = element.name;
                nameBtn.addEventListener('click', selectName);
                namesContainer.appendChild(nameBtn);
            });
        }
        
        function selectSymbol(event) {
            if (selectedSymbol) {
                selectedSymbol.classList.remove('bg-indigo-200', 'border-indigo-500');
                selectedSymbol.classList.add('bg-white', 'border-indigo-300');
            }
            
            selectedSymbol = event.target;
            selectedSymbol.classList.remove('bg-white', 'border-indigo-300');
            selectedSymbol.classList.add('bg-indigo-200', 'border-indigo-500');
            
            checkMatch();
        }
        
        function selectName(event) {
            if (selectedName) {
                selectedName.classList.remove('bg-indigo-200', 'border-indigo-500');
                selectedName.classList.add('bg-white', 'border-indigo-300');
            }
            
            selectedName = event.target;
            selectedName.classList.remove('bg-white', 'border-indigo-300');
            selectedName.classList.add('bg-indigo-200', 'border-indigo-500');
            
            checkMatch();
        }
        
        function checkMatch() {
            if (selectedSymbol && selectedName) {
                if (selectedSymbol.dataset.symbol === selectedName.dataset.symbol) {
                    // จับคู่ถูกต้อง
                    selectedSymbol.classList.remove('bg-indigo-200', 'border-indigo-500');
                    selectedName.classList.remove('bg-indigo-200', 'border-indigo-500');
                    
                    selectedSymbol.classList.add('bg-green-200', 'border-green-500', 'opacity-50');
                    selectedName.classList.add('bg-green-200', 'border-green-500', 'opacity-50');
                    
                    selectedSymbol.disabled = true;
                    selectedName.disabled = true;
                    
                    game1Score += 10;
                    document.getElementById('gameScore').textContent = `${game1Score} คะแนน`;
                    
                    matchedPairs++;
                    
                    // ตรวจสอบว่าจับคู่ครบหมดแล้วหรือไม่
                    if (matchedPairs === currentMatchingElements.length) {
                        setTimeout(() => {
                            setupMatchingGame();
                        }, 1000);
                    }
                } else {
                    // จับคู่ไม่ถูกต้อง
                    const wrongSymbol = selectedSymbol;
                    const wrongName = selectedName;
                    
                    wrongSymbol.classList.remove('bg-indigo-200', 'border-indigo-500');
                    wrongName.classList.remove('bg-indigo-200', 'border-indigo-500');
                    
                    wrongSymbol.classList.add('bg-red-200', 'border-red-500');
                    wrongName.classList.add('bg-red-200', 'border-red-500');
                    
                    setTimeout(() => {
                        wrongSymbol.classList.remove('bg-red-200', 'border-red-500');
                        wrongName.classList.remove('bg-red-200', 'border-red-500');
                        
                        wrongSymbol.classList.add('bg-white', 'border-indigo-300');
                        wrongName.classList.add('bg-white', 'border-indigo-300');
                    }, 1000);
                    
                    if (game1Score > 0) game1Score -= 2;
                    document.getElementById('gameScore').textContent = `${game1Score} คะแนน`;
                }
                
                selectedSymbol = null;
                selectedName = null;
            }
        }
        
        // ฟังก์ชันสำหรับเกมทายธาตุ
        function setupGuessGame() {
            // ล้างค่าเดิม
            document.getElementById('resultMessage').classList.add('hidden');
            
            // สุ่มธาตุสำหรับคำถาม
            const allElements = [...elements];
            currentGuessElement = allElements[Math.floor(Math.random() * allElements.length)];
            
            // สุ่มคำใบ้
            const clue = currentGuessElement.clues[Math.floor(Math.random() * currentGuessElement.clues.length)];
            document.getElementById('elementClue').textContent = `คำใบ้: ${clue}`;
            
            // สร้างตัวเลือก
            const answerOptions = document.getElementById('answerOptions');
            answerOptions.innerHTML = '';
            
            // สร้างตัวเลือกที่ถูกต้อง 1 ตัว และตัวเลือกที่ผิด 3 ตัว
            const options = [currentGuessElement];
            
            while (options.length < 4) {
                const randomElement = allElements[Math.floor(Math.random() * allElements.length)];
                if (!options.some(e => e.symbol === randomElement.symbol)) {
                    options.push(randomElement);
                }
            }
            
            // สลับตำแหน่งตัวเลือก
            const shuffledOptions = options.sort(() => Math.random() - 0.5);
            
            shuffledOptions.forEach(element => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'bg-white border-2 border-pink-300 rounded-lg p-4 flex flex-col items-center justify-center hover:bg-pink-100 transition';
                optionBtn.dataset.symbol = element.symbol;
                
                const symbolSpan = document.createElement('span');
                symbolSpan.className = 'text-xl font-bold text-pink-800 mb-1';
                symbolSpan.textContent = element.symbol;
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'text-sm text-gray-700';
                nameSpan.textContent = element.name;
                
                optionBtn.appendChild(symbolSpan);
                optionBtn.appendChild(nameSpan);
                
                optionBtn.addEventListener('click', checkGuess);
                answerOptions.appendChild(optionBtn);
            });
        }
        
        function checkGuess(event) {
            const selectedOption = event.currentTarget;
            const isCorrect = selectedOption.dataset.symbol === currentGuessElement.symbol;
            
            if (isCorrect) {
                // ตอบถูก
                const pointsEarned = 10;
                game2Score += pointsEarned;
                document.getElementById('gameScore').textContent = `${game2Score} คะแนน`;
                
                selectedOption.classList.remove('border-pink-300');
                selectedOption.classList.add('bg-green-200', 'border-green-500');
                
                setTimeout(() => {
                    setupGuessGame();
                }, 1000);
            } else {
                // ตอบผิด
                selectedOption.classList.remove('border-pink-300');
                selectedOption.classList.add('bg-red-200', 'border-red-500');
                
                // แสดงคำตอบที่ถูกต้อง
                const options = document.querySelectorAll('#answerOptions button');
                options.forEach(option => {
                    if (option.dataset.symbol === currentGuessElement.symbol) {
                        option.classList.remove('border-pink-300');
                        option.classList.add('bg-green-200', 'border-green-500');
                    }
                });
                
                setTimeout(() => {
                    setupGuessGame();
                }, 1500);
            }
        }
        
        // ฟังก์ชันสำหรับเกมจัดหมวดหมู่
        function setupCategoryGame() {
            // ล้างค่าเดิม
            document.getElementById('metalGroup').innerHTML = '';
            document.getElementById('nonmetalGroup').innerHTML = '';
            document.getElementById('metalloidGroup').innerHTML = '';
            document.getElementById('elementsToSort').innerHTML = '';
            
            // สุ่มธาตุสำหรับเกม
            currentSortingElements = [];
            
            // เลือกโลหะ 3 ตัว
            const metals = elements.filter(e => e.group === 'metal');
            while (currentSortingElements.filter(e => e.group === 'metal').length < 3) {
                const randomMetal = metals[Math.floor(Math.random() * metals.length)];
                if (!currentSortingElements.some(e => e.symbol === randomMetal.symbol)) {
                    currentSortingElements.push(randomMetal);
                }
            }
            
            // เลือกอโลหะ 3 ตัว
            const nonmetals = elements.filter(e => e.group === 'nonmetal');
            while (currentSortingElements.filter(e => e.group === 'nonmetal').length < 3) {
                const randomNonmetal = nonmetals[Math.floor(Math.random() * nonmetals.length)];
                if (!currentSortingElements.some(e => e.symbol === randomNonmetal.symbol)) {
                    currentSortingElements.push(randomNonmetal);
                }
            }
            
            // เลือกกึ่งโลหะ 2 ตัว
            const metalloids = elements.filter(e => e.group === 'metalloid');
            while (currentSortingElements.filter(e => e.group === 'metalloid').length < 2) {
                const randomMetalloid = metalloids[Math.floor(Math.random() * metalloids.length)];
                if (!currentSortingElements.some(e => e.symbol === randomMetalloid.symbol)) {
                    currentSortingElements.push(randomMetalloid);
                }
            }
            
            // สลับตำแหน่งธาตุ
            const shuffledElements = [...currentSortingElements].sort(() => Math.random() - 0.5);
            
            // สร้างธาตุสำหรับลาก
            const elementsContainer = document.getElementById('elementsToSort');
            
            shuffledElements.forEach(element => {
                const elementDiv = document.createElement('div');
                elementDiv.className = 'element bg-white border-2 border-yellow-300 rounded-lg p-3 flex flex-col items-center justify-center cursor-move';
                elementDiv.draggable = true;
                elementDiv.dataset.symbol = element.symbol;
                elementDiv.dataset.group = element.group;
                
                const symbolSpan = document.createElement('span');
                symbolSpan.className = 'text-xl font-bold text-yellow-800 mb-1';
                symbolSpan.textContent = element.symbol;
                
                const nameSpan = document.createElement('span');
                nameSpan.className = 'text-sm text-gray-700';
                nameSpan.textContent = element.name;
                
                elementDiv.appendChild(symbolSpan);
                elementDiv.appendChild(nameSpan);
                
                elementDiv.addEventListener('dragstart', drag);
                elementsContainer.appendChild(elementDiv);
            });
        }
        
        function drag(event) {
            event.dataTransfer.setData("text", event.target.dataset.symbol);
        }
        
        function allowDrop(event) {
            event.preventDefault();
        }
        
        function drop(event, targetGroup) {
            event.preventDefault();
            const symbol = event.dataTransfer.getData("text");
            const elementToMove = document.querySelector(`[data-symbol="${symbol}"]`);
            
            if (elementToMove) {
                event.target.closest('div[id$="Group"]').appendChild(elementToMove);
            }
        }
        
        function checkCategories() {
            let allCorrect = true;
            let correctCount = 0;
            
            // ตรวจสอบโลหะ
            const metalElements = document.querySelectorAll('#metalGroup .element');
            metalElements.forEach(element => {
                if (element.dataset.group === 'metal') {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-green-500', 'bg-green-100');
                    correctCount++;
                } else {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-red-500', 'bg-red-100');
                    allCorrect = false;
                }
            });
            
            // ตรวจสอบอโลหะ
            const nonmetalElements = document.querySelectorAll('#nonmetalGroup .element');
            nonmetalElements.forEach(element => {
                if (element.dataset.group === 'nonmetal') {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-green-500', 'bg-green-100');
                    correctCount++;
                } else {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-red-500', 'bg-red-100');
                    allCorrect = false;
                }
            });
            
            // ตรวจสอบกึ่งโลหะ
            const metalloidElements = document.querySelectorAll('#metalloidGroup .element');
            metalloidElements.forEach(element => {
                if (element.dataset.group === 'metalloid') {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-green-500', 'bg-green-100');
                    correctCount++;
                } else {
                    element.classList.remove('border-yellow-300');
                    element.classList.add('border-red-500', 'bg-red-100');
                    allCorrect = false;
                }
            });
            
            // คำนวณคะแนน
            const earnedPoints = correctCount * 5;
            game3Score += earnedPoints;
            document.getElementById('gameScore').textContent = `${game3Score} คะแนน`;
            
            // สร้างชุดคำถามใหม่
            setTimeout(() => {
                setupCategoryGame();
            }, 1500);
        }
        
        // ฟังก์ชันสุ่มธาตุ
        function getRandomElements(count) {
            const shuffled = [...elements].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93b04a41c69837e2',t:'MTc0NjQ0ODY1Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>